# 核心功能：代理 (Agent) 系统

代理（Agent）是VCPToolBox的灵魂。它们是您与之交互的、具有特定“人格”和能力的AI。理解代理系统，并学会如何定制和使用它们，将极大地提升您的VCPToolBox使用体验。

---

## 什么是代理？

在VCPToolBox中，一个代理不仅仅是一个简单的聊天机器人。它是一个由三部分组成的完整定义：

1.  **基础模型 (Base Model)**：代理底层使用的大型语言模型，例如OpenAI的`gpt-4`或Google的`gemini-pro`。这是代理“思考能力”的来源。
2.  **系统提示词 (System Prompt)**：一段详细的指令，用于塑造代理的“人格”。它告诉代理它应该扮演什么角色、有什么样的性格、说话的风格是怎样的、以及它需要遵守哪些规则。
3.  **可用工具 (Available Tools)**：一个插件列表，定义了该代理能够使用的“技能”。

通过这三者的结合，我们可以创造出各种各样、能力各异的代理。例如：
*   一个名叫**Metis**的代理，可能被设定为逻辑严谨、精通编程的“技术专家”，并被赋予了文件操作和网络搜索的工具。
*   一个名叫**Nova**的代理，可能���设定为充满想象力、擅长创意的“艺术家”，并被赋予了图像生成和音乐创作的工具。

---

## 如何切换代理？

VCPToolBox允许您定义多个代理，并在需要时进行切换。

最简单的切换方法是修改`.env`配置文件中的`AGENT_NAME`变量。

```env
# .env file

# 将默认代理设置为Metis
AGENT_NAME=Metis
```

修改并保存文件后，重启VCPToolBox服务，新的代理就会生效。

*   所有可用的代理都定义在项目根目录的`Agent/`文件夹下，以`.txt`文件的形式存在。文件名（不含`.txt`后缀）就是代理的名称。
*   默认可用的代理包括：`Metis`, `Nova`, `Hornet`, `ThemeMaidCoco`。

---

## 如何创建您自己的专属代理？

这是VCPToolBox最有趣的功能之一。您可以轻松创建完符合您需求的专属代理。

**步骤如下：**

1.  **进入`Agent/`目录**：
    打开VCPToolBox项目下的`Agent/`文件夹。

2.  **创建新的代理定义文件**：
    创建一个新的文本文件，文件名就是您想为代理取的名字。例如，我们来创建一个名为`CodeMaster`的编程大师代理，那么就新建一个`CodeMaster.txt`文件。

3.  **编写系统提示词**：
    打开`CodeMaster.txt`文件，在里面详细描述您的代理。这段描述就是代理的��心“人格”定义。您可以参考`Metis.txt`或`Nova.txt`的写法。

    一个好的系统提示词通常包含以下部分：
    *   **角色定义 (Role)**：你是谁？你的名字是什么？你的主要职责是什么？
    *   **能力描述 (Capabilities)**：你擅长什么？你能使用哪些工具来完成任务？（在这里提及工具名称很重要，可以引导AI更频繁地使用它们）。
    *   **行为准则 (Rules)**：你在回答问题时需要遵守哪些规则？例如，总是先思考再回答、回答要分点列出、使用特定的口头禅等。
    *   **输出格式 (Output Format)**：你回复的格式需要遵循什么规范？

    **`CodeMaster.txt` 示例**：
    ```txt
    # 角色定义
    你是 CodeMaster，一位世界顶级的软件工程师和编程导师。你的任务是帮助用户解决任何与编程相关的问题，提供清晰、高效、可维护的代码。

    # 能力描述
    你精通所有主流编程语言，尤其是Python, JavaScript, 和 C++。
    你能够熟练使用文件系统工具（如 FileOperator, FileTreeGenerator）来阅读、分析和修改代码库。
    你能够使用网络搜索工具（如 TavilySearch）来查找最新的技术文档和解决方案。
    你能够使用 PowerShellExecutor 来执行代码、运行测试和管理项��依赖。

    # 行为准则
    1.  **严谨第一**: 在提供任何代码之前，必须先进行充分的思考和分析，确保方案的正确性和健壮性。
    2.  **清晰解释**: 不仅要提供代码，还要用清晰的语言解释代码的逻辑、设计思路以及关键部分的作用。
    3.  **主动探索**: 当任务描述不明确时，你会主动提问，或使用文件工具来探索用户的代码库，以获取更多上下文。
    4.  **遵循最佳实践**: 你编写的所有代码都必须遵循业界公认的最佳实践和代码风格。

    # 输出格式
    - 对于代码块，请务必使用Markdown的代码围栏（```）并标明语言类型。
    - 对于复杂的解释，请使用分点列表或编号列表，使其更易于理解。
    ```

4.  **启用新代理**：
    保存`CodeMaster.txt`文件后，回到`.env`配置文件，将`AGENT_NAME`修改为您的新代理名称：
    ```env
    AGENT_NAME=CodeMaster
    ```

5.  **重启服务**：
    重启VCPToolBox的Docker容器。现在，与您对话的就是您亲手打造的编程大师`CodeMaster`了！

通过创建不同的代理，您可以将VCPToolBox变成一个由多种专家组成的团队，随时听候您的调遣。
