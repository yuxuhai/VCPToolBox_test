# 记忆系统指南

VCP ToolBox 的记忆系统是其最强大的功能之一。它使 AI 能够跨越单次对话的限制，形成长期记忆，并构建自己的知识库。

## 核心组件

VCP 的记忆系统主要由以下几个部分组成：

### 1. 日记系统 (`DailyNote`)

- **功能**: AI 会像写日记一样，将重要的对话、学习到的知识和用户的关键信息记录下来。这些日记存储在 `dailynote/` 目录下。
- **机制**: AI 会在对话过程中自动判断哪些信息值得记录，并调用 `DailyNoteWrite` 插件来写入日记。
- **检索**: 当需要回忆过去的事件或知识时，AI 会使用 `DailyNoteGet` 或 `DailyNoteManager` 插件来检索相关的日记内容。

### 2. RAG (Retrieval-Augmented Generation)

- **功能**: RAG 将日记系统提升到了一个新的层次。它使用向量数据库 (ChromaDB) 来存储日记的语义信息，从而实现更智能、更准确的记忆检索。
- **机制**:
    - **写入**: 当 AI 写入日记时，RAG 系统会同时计算这篇日记的向量表示，并将其存入 ChromaDB。
    - **检索**: 当用户提问时，RAG 系统会将问题同样转换为向量，然后在数据库中寻找语义上最相似的日记片段。
- **优势**: 相比于关键词检索，RAG 能够理解问题的“意思”，即使措辞完全不同，也能找到相关的记忆。

### 3. 知识簇 (Knowledge Clusters)

- **功能**: 在 `dailynote/` 目录下，您可以发现一些以“簇”结尾的子目录，例如 `世界观构建簇`、`逻辑推理簇` 等。这些是 VCP 的“知识簇”或“思维簇”。
- **机制**: VCP 通过这些预设的分类，引导 AI 将不同类型的知识和思考过程结构化地存储起来。这有助于 AI 形成更系统、更有条理的思维模式。
- **示例**:
    - `角色人格簇`: 存储关于 AI 自身角色设定的思考和演变。
    - `对话生成簇`: 存储关于如何更好地与用户交流的经验和技巧。
    - `世界观构建簇`: 存储关于外部世界和特定领域知识的系统性认知。

## 如何使用记忆系统

对用户来说，记忆系统大部分是自动运行的，您无需进行复杂的配置。

- **与 AI 正常对话**: AI 会自动记录和学习。您和 AI 的互动越多，它的记忆就越丰富，也就越“懂”您。
- **引导 AI 记录**: 您可以明确地告诉 AI：“请记住……” 或者 “把这个信息存到你的知识库里”。
- **测试 AI 的记忆**: 过一段时间后，您可以问 AI 一些关于过去对话的���题，看看它是否还记得。

## 管理记忆数据

### 备份

记忆数据是 VCP ToolBox 最宝贵的资产。请务必定期备份 `dailynote/` 目录。

### 管理面板

您可以通过 VCP ToolBox 的管理面板来管理 RAG 记忆。

- **访问地址**: `http://your-vcp-server:port/admin`
- **功能**:
    - **RAG 标签编辑器**: 为您的记忆数据打上标签，方便分类和管理。
    - **记忆检索测试**: 在管理面板中测试 RAG 的检索效果。

---

VCP 的记忆系统不仅仅是一个简单的聊天记录，它是一个能够与 AI 共同成长的、动态的知识体系。善用这个系统，您的 AI 将会变得越来越智能和个性化。
