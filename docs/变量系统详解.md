# 变量系统详解

VCP ToolBox 的变量系统是一个强大的动态内容注入机制。它允许在 Agent 的 Prompt、插件的配置甚至对话中动态地插入各种信息。

变量系统的语法非常简单，使用双大括号 `{{...}}` 来包裹变量名。

## 系统内置变量

VCP ToolBox 提供了一系列系统内置变量，可以直接使用。

| 变量名 | 说明 | 示例 |
| --- | --- | --- |
| `{{Date}}` | 当前日期 (YYYY-MM-DD) | `2023-10-27` |
| `{{Time}}` | 当前时间 (HH:mm:ss) | `15:30:00` |
| `{{VCPWeatherInfo}}` | 天气信息 (需要配置 `WeatherReporter` 插件) | `北京市，晴，20°C` |
| `{{角色名日记本}}` | 特定角色的日记内容 | `墨子的日记本` |

## 自定义变量

除了系统变量，VCP ToolBox 还支持多种类型的自定义变量。

### 1. 普通变量 (`Var*`)

- **语法**: `{{Var*VariableName}}`
- **功能**: 用于定义和使用通用的自定义变量。
- **设置**: 您可以在 `config.env` 文件中定义这些变量。
  ```env
  Var_MyName=小明
  Var_ProjectName=VCP ToolBox
  ```
- **使用**:
  - `你好，我是{{Var*MyName}}。` -> `你好，我是小明。`
  - `欢迎使用 {{Var*ProjectName}}！` -> `欢迎使用 VCP ToolBox！`

### 2. 模板变量 (`Tar*`)

- **语法**: `{{Tar*TemplateName}}`
- **功能**: 用于引用 `TVStxt` 目录下的模板文件。这允许您将大段的文本或 Prompt 模块化，方便复用。
- **设置**: 在 `TVStxt/` 目录下创建一个文本文件，例如 `supertool.txt`。
- **使用**: 如果您在 Prompt 中写入 `{{Tar*supertool}}`，VCP ToolBox 会将 `TVStxt/supertool.txt` 文件的内容完整地插入到这个位置。

### 3. 模型专属变量 (`Sar*`)

- **语法**: `{{Sar*VariableName}}`
- **功能**: 这类变量是为特定的 AI 模型或 Agent 设计的，允许更细粒度的控制。
- **设置**: 通常在 Agent 文件或更高级的配置文件中定义。

## 变量的使用场景

### 1. Agent Prompt

这是变量最常见的使用场景。通过在 Agent 的 Prompt 中使用变量，可以使其更具动态性和��境感知能力。

**示例 `Agent/MyAgent.txt`:**
```
#prompt
今天是 {{Date}}。你正在为一个名为 {{Var*MyName}} 的用户提供帮助。
{{Tar*supertool}}
```

### 2. 插件配置

某些插件的配置也支持使用变量。

**示例 `config.env`:**
```env
SomePlugin_Path=./workspace/{{Var*ProjectName}}
```

### 3. 对话内容

在与 AI 的对话中，您也可以使用变量，VCP ToolBox 会在处理消息前将其替换。

---

变量系统是 VCP ToolBox 实现高度定制化和动态交互的关键。通过组合使用不同的变量，您可以构建出功能强大、适应性强的 AI 应用。
