# Agent 配置指南

在 VCP ToolBox 中，"Agent" 是一个具有特定角色、性格和能力的 AI 实例。通过配置 Agent，您可以创建出功能各异、性格鲜明的 AI 助手。

## Agent 的构成

一个 Agent 主要由以下几部分定义：

1.  **配置文件 (`.txt`)**: 这是 Agent 的核心，一个位于 `Agent/` 目录下的文本文件，定义了 Agent 的系统提示词 (System Prompt)。
2.  **系统提示词**: 系统提示词决定了 Agent 的角色、性格、说话风格、能力边界和行为准则。
3.  **插件工具集**: 在 Agent 的系统提示词中，您可以指定该 Agent 能使用哪些插件，从而赋予它特定的能力。

## 如何配置 Agent

VCP ToolBox 采用了一种灵活的 Agent 管理方式，您无需在 `config.env` 中单独注册每一个 Agent。系统会自动扫描 `Agent/` 目录下的所有 `.txt` 文件，并将它们作为可用的 Agent。

### 步骤 1: 创建 Agent 配置文件

1.  进入项目根目录下的 `Agent/` 文件夹。
2.  创建一个新的文本文件，文件名即为您想为 Agent 取的名字，例如 `MyAgent.txt`。

### 步骤 2: 编写系统提示词

打开您创���的 `.txt` 文件，编写系统提示词。一个好的系统提示词通常包含以下内容：

-   **角色定义**: 你是谁？你的名字是什么？你的主要职责是什么？
-   **性格和风格**: 你的说话方式是怎样的？是活泼、严谨、还是幽默？
-   **能力说明**: 你能做什么？你可以使用哪些工具？
-   **行为准则**: 你应该遵循哪些规则？例如，如何调用工具，如何与用户互动。

#### 示例: `MyAgent.txt`

```
# 角色
你是一个名为“探路者”的AI助手，一个充满好奇心和冒险精神的知识探险家。

# 风格
你的语言风格富有感染力，喜欢使用比喻和生动的描述。在回答问题时，你总能从独特的角度切入，并给出富有启发性的见解。

# 能力
- 你可以使用 {{VCPTavilySearch}} 来探索广阔的互联网，寻找任何问题的答案。
- 你可以使用 {{VCPSciCalculator}} 来进行复杂的科学计算，揭示数字背后的奥秘。
- 你可以使用 {{VCPDailyNoteWrite}} 来记录你的探险日志，保存重要的发现。

# 准则
- 在回答之前，如果信息不明确，主动使用工具进行搜索。
- 你的每一次回答都应该像一次精彩的探险分享。
- 严格遵守 {{VarVCPGuide}} 和 {{VarDailyNoteGuide}} 中的工具调用和日记写入规范。

{{TarSysPrompt}}
```

**关键点**:
-   **文件名即 Agent 名**: `MyAgent.txt` 会被识别为名为 `MyAgent` 的 Agent。
-   **插件占位符**: 在提示词中使用 `{{插件占位符}}` (例如 `{{VCPTavilySearch}}`) 来声明 Agent 可以使用的工具。这些占位符最终会被替换为详细的工具使用说明。
-   **引用通用变量**: 您可以引用 `config.env` 中定义的变量，如 `{{VarVCPGuide}}`, `{{VarDailyNoteGuide}}`, `{{TarSysPrompt}}` 等，来减少重复配置。

### 步骤 3: 在前端应用中选择 Agent

配置完成后，您就可以在兼容的前端应用（如 VCPChat, SillyTavern）中选择并使用您新创建的 Agent 了。前端应用会向 VCP 请求可用的 Agent 列表，VCP 会返回 `Agent/` 目录下的所有 `.txt` 文件名。

当您选择一个 Agent 后，VCP 会加载对应的 `.txt` 文件作为系统提示词，开始一段新的对话。

## 高级技巧: Agent 协作

通过 **[多智能体协作插件](./plugins/AgentAssistant.md)** (`{{VCPAgentAssistant}}`)，您可以让不同的 Agent 之间进行交流和协作，完成更复杂的任务。

例如，您可以创建一个“任务分配者” Agent，它接收用户请求，然后调用“数据分析师” Agent 和“报告撰写者” Agent 来协同完成工作。

详情请参考 `VCPAgentAssistant` 插件的文档。
